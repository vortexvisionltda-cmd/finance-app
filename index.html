<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>App Financeiro</title>

<style>
body{
  font-family: Arial;
  background:#0f172a;
  color:white;
  margin:0;
  padding:20px;
}

h1{
  text-align:center;
}

.container{
  max-width:1000px;
  margin:auto;
}

.card{
  background:#1e293b;
  padding:20px;
  border-radius:12px;
  margin-bottom:20px;
}

.grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(200px,1fr));
  gap:15px;
}

input,select,button{
  padding:10px;
  border-radius:8px;
  border:none;
  width:100%;
}

button{
  background:#2563eb;
  color:white;
  cursor:pointer;
  font-weight:bold;
}

button:hover{
  opacity:.9;
}

.list-item{
  display:flex;
  justify-content:space-between;
  background:#334155;
  padding:10px;
  border-radius:8px;
  margin-bottom:8px;
}

.income{color:#22c55e;}
.expense{color:#ef4444;}

.total{
  font-size:22px;
  font-weight:bold;
}
</style>
</head>

<body>

<div class="container">

<h1>üí∞ Controle Financeiro</h1>

<!-- RESUMO -->
<div class="grid">

<div class="card">
Receitas<br>
<span id="receitas" class="total income">R$ 0</span>
</div>

<div class="card">
Despesas<br>
<span id="despesas" class="total expense">R$ 0</span>
</div>

<div class="card">
Saldo<br>
<span id="saldo" class="total">R$ 0</span>
</div>

</div>

<!-- FORM -->
<div class="card">

<h3>Nova Transa√ß√£o</h3>

<input id="desc" placeholder="Descri√ß√£o">
<br><br>

<input id="valor" type="number" placeholder="Valor">
<br><br>

<select id="tipo">
<option value="income">Receita</option>
<option value="expense">Despesa</option>
</select>
<br><br>

<select id="categoria">
<option>Moradia</option>
<option>Alimenta√ß√£o</option>
<option>Transporte</option>
<option>Lazer</option>
<option>Sa√∫de</option>
<option>Sal√°rio</option>
<option>Investimentos</option>
<option>Outros</option>
</select>
<br><br>

<button onclick="add()">Adicionar</button>

</div>

<!-- LISTA -->
<div class="card">

<h3>Hist√≥rico</h3>
<div id="lista"></div>

</div>

</div>

<script>

let dados = JSON.parse(localStorage.getItem("finance")) || [];

function salvar(){
  localStorage.setItem("finance",JSON.stringify(dados));
}

function add(){

  const desc = document.getElementById("desc").value;
  const valor = parseFloat(document.getElementById("valor").value);
  const tipo = document.getElementById("tipo").value;
  const categoria = document.getElementById("categoria").value;

  if(!desc || !valor) return;

  dados.push({
    id:Date.now(),
    desc,
    valor,
    tipo,
    categoria,
    data:new Date().toLocaleDateString()
  });

  salvar();
  render();
}

function remover(id){
  dados = dados.filter(i=>i.id!==id);
  salvar();
  render();
}

function render(){

  const lista = document.getElementById("lista");
  lista.innerHTML="";

  let receitas=0;
  let despesas=0;

  dados.forEach(i=>{

    if(i.tipo==="income") receitas+=i.valor;
    else despesas+=i.valor;

    lista.innerHTML+=`
      <div class="list-item">
        <div>
          <b>${i.desc}</b><br>
          <small>${i.categoria} ‚Ä¢ ${i.data}</small>
        </div>

        <div>
          <span class="${i.tipo}">
            R$ ${i.valor.toFixed(2)}
          </span>
          <button onclick="remover(${i.id})">X</button>
        </div>
      </div>
    `;
  });

  document.getElementById("receitas").innerText="R$ "+receitas.toFixed(2);
  document.getElementById("despesas").innerText="R$ "+despesas.toFixed(2);
  document.getElementById("saldo").innerText="R$ "+(receitas-despesas).toFixed(2);
}

render();

</script>

</body>
</html>
